= M贸dulo Experto: Desaf铆os Pr谩cticos del Administrador Linux
Alex Callejas
:doctype: article
:revdate: Oct 18, 2025
:keywords: ejercicios, comandos, lpic-1, lfcs, rhcsa

image::images/portada_exp_1.png[M贸dulo Experto: Desaf铆os Pr谩cticos del Administrador Linux]

== M贸dulo Experto: Desaf铆os Pr谩cticos del Administrador Linux

=== Soluci贸n a los 20 Ejercicios Pr谩cticos para Certificaciones Linux (LPIC-1, LFCS, RHCSA)

 *Recomendaci贸n*: Utiliza una m谩quina virtual reci茅n instalada o un entorno de laboratorio donde puedas experimentar libremente. Debes tener permisos de `sudo` o acceder como usuario `root` para completar los ejercicios de administraci贸n (Vol煤menes, Usuarios y Grupos).

.Temas Cubiertos
|===
|Categor铆a de Ejercicios |Enfoque Principal |Certificaciones Relevantes

|*I. CLI y Navegaci贸n*
|FHS, `cp`, `mv`, Comodines
|LPIC-1, LFCS, RHCSA

|*II. Permisos y Propiedad*
|`chmod`, SUID, *ACLs*
|LPIC-1, *LFCS, RHCSA*

|*III. Usuarios y sudo*
|`useradd`, `groupmod`, *`visudo`*
|LPIC-1, *LFCS, RHCSA*

|*IV. Texto, Redirecci贸n y Enlaces*
|Pipes, `grep`, *`sed`*, Enlaces Duros/Blandos
|LPIC-1, *LFCS, RHCSA*

|*V. Almacenamiento (Montaje)*
|`lsblk`, `mount`, `/etc/fstab`
|LPIC-1, LFCS, RHCSA

|*VI. Gesti贸n de Volumen L贸gico*
|PV, VG, LV, *`lvextend`, `xfs_growfs`*
|*LFCS, RHCSA*
|===

== I. Ejercicios de CLI y Navegaci贸n

=== Reactivo 1: Creaci贸n de Estructura y Archivo (FHS)
*Objetivo:* Crear una estructura de directorios simulada para un proyecto en el directorio `/tmp` y un archivo inicial con un solo comando.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** En el directorio `/tmp`, crea la estructura de directorios `/proyecto/src`, `/proyecto/docs` y `/proyecto/bin`. Dentro de `/proyecto/src`, crea un archivo vac铆o llamado `main.sh`. *Todo en una sola l铆nea de comando.*
|
``
$ mkdir -p /tmp/proyecto/{src,docs,bin} && touch /tmp/proyecto/src/main.sh
``
|**2. Verificaci贸n:** Confirma la existencia de la estructura y el archivo.
|
``
$ ls -R /tmp/proyecto
``
|===

=== Reactivo 2: Copia y Comodines
*Objetivo:* Usar comodines para copiar un conjunto espec铆fico de archivos.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Configuraci贸n:** Crea varios archivos de texto en `/tmp/proyecto/docs`.
|
``
$ touch /tmp/proyecto/docs/{carta,capitulo,reporte,nota}.txt
``
|**2. Tarea:** Copia solo los archivos `.txt` en el directorio `/tmp/proyecto/docs` que *empiezan por la letra `c`* a una nueva carpeta llamada `/tmp/backups`.
|
``
$ mkdir /tmp/backups && cp /tmp/proyecto/docs/c*.txt /tmp/backups
``
|===

=== Reactivo 3: Obtenci贸n de Ayuda (`info`)
*Objetivo:* Usar la utilidad `info` para buscar la secci贸n sobre el comando `cp`.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** Abre el manual de ayuda de `cp` usando el comando `info`.
|
``
$ info cp
``
|**2. Tarea:** Una vez dentro, busca la secci贸n sobre la opci贸n `-p` (preservar atributos).
|*Dentro de `info`:* Presiona `s` (search) y escribe `preserve`.
|===

== II. Ejercicios de Permisos y Propiedad

=== Reactivo 4: Permisos con Notaci贸n Octal
*Objetivo:* Aplicar un conjunto de permisos preciso usando la notaci贸n octal.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Configuraci贸n:** Crea un archivo en `/tmp/secreto_de_permisos.conf`.
|
``
$ touch /tmp/secreto_de_permisos.conf
``
|**2. Tarea:** Aplica los permisos `rwxr-x---`. Notaci贸n octal: Propietario (7), Grupo (5), Otros (0).
|
``
$ chmod 750 /tmp/secreto_de_permisos.conf
``
|**3. Verificaci贸n:** Muestra los permisos aplicados.
|
``
$ ls -l /tmp/secreto_de_permisos.conf
``
|===

=== Reactivo 5: El Sticky Bit en Directorios (LFCS/RHCSA)
*Objetivo:* Configurar un directorio compartido para que los usuarios puedan crear archivos, pero solo ellos puedan eliminarlos.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Configuraci贸n:** Crea el directorio `/tmp/compartido` y establece permisos `rwxrwxrwt`.
|
``
$ mkdir /tmp/compartido && chmod 1777 /tmp/compartido
``
|**2. Tarea:** Aseg煤rate de que el *Sticky Bit* (la `t`) est茅 aplicado.
|
``
$ ls -ld /tmp/compartido
``
|===

=== Reactivo 6: Cambio de Grupo Propietario
*Objetivo:* Cambiar el grupo de un archivo a un grupo existente (`sysadmin`) sin modificar el propietario.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Configuraci贸n:** Crea el grupo `sysadmin` y el archivo `/tmp/archivo_grupo.txt`.
|
``
$ sudo groupadd sysadmin && touch /tmp/archivo_grupo.txt
``
|**2. Tarea:** Cambia el grupo propietario del archivo a `sysadmin`.
|
``
$ sudo chgrp sysadmin /tmp/archivo_grupo.txt
``
|===

=== Reactivo 7: Uso de ACLs para Acceso Fino (RHCSA/LFCS)
*Objetivo:* Conceder acceso de lectura a un usuario espec铆fico (`ana`) utilizando Listas de Control de Acceso (ACLs).

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Configuraci贸n:** Aseg煤rate de que tienes el paquete de ACLs (`acl`) instalado y crea el usuario `ana`.
|
``
$ sudo useradd ana
``
|**2. Tarea:** Usa `setfacl` para dar permiso de *solo lectura* (`r`) al usuario `ana` sobre el archivo `/tmp/archivo_grupo.txt`.
|
``
$ sudo setfacl -m u:ana:r /tmp/archivo_grupo.txt
``
|**3. Verificaci贸n:** Muestra la ACL para confirmar el permiso.
|
``
$ getfacl /tmp/archivo_grupo.txt
``
|===

== III. Ejercicios de Gesti贸n de Usuarios y `sudo`

=== Reactivo 8: Creaci贸n de Usuario Personalizada
*Objetivo:* Crear un usuario con un directorio *home* personalizado.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** Crea el directorio `/data/usuarios` (si no existe).
|
``
$ sudo mkdir -p /data/usuarios
``
|**2. Tarea:** Crea un usuario llamado `analista` y establece su directorio *home* en `/data/usuarios/analista`.
|
``
$ sudo useradd -d /data/usuarios/analista analista
``
|**3. Verificaci贸n:** Confirma la ruta del *home* en `/etc/passwd`.
|
``
$ grep analista /etc/passwd
``
|===

=== Reactivo 9: Modificaci贸n de Grupos
*Objetivo:* A帽adir el usuario `analista` a un grupo secundario existente (`desarrollo`).

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** A帽ade el usuario `analista` al grupo `desarrollo`. (Asume que el grupo ya existe o lo creas con `sudo groupadd desarrollo`).
|
``
$ sudo usermod -aG desarrollo analista
``
|**2. Verificaci贸n:** Confirma la membres铆a de `analista` en el grupo.
|
``
$ groups analista
``
|===

=== Reactivo 10: Configuraci贸n de `sudo` sin Contrase帽a (LFCS/RHCSA)
*Objetivo:* Usar `visudo` para permitir que el usuario `analista` ejecute un comando espec铆fico como `root` sin solicitar su contrase帽a.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** Edita el archivo `/etc/sudoers` de forma segura.
|
``
sudo visudo
``
|**2. Tarea:** A帽ade la l铆nea necesaria para que el usuario `analista` pueda ejecutar el comando `/usr/sbin/service cron restart` *sin contrase帽a*.
|
``
# Dentro de `visudo`, a帽adir:

analista ALL=(ALL) NOPASSWD: /usr/sbin/service cron restart
``
|**3. Verificaci贸n:** Prueba la ejecuci贸n del comando.
|
``
$ sudo -u analista sudo -n /usr/sbin/service cron restart
``
|===

== IV. Ejercicios de Texto, Redirecci贸n y Enlaces

=== Reactivo 11: Redirecci贸n y Tuber铆as (`|`)
*Objetivo:* Contar y guardar el n煤mero de usuarios que tienen `bash` como *shell* por defecto en `/etc/passwd`.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** Utiliza una tuber铆a (`\|`) para filtrar las l铆neas con `/bin/bash` en `/etc/passwd`, contarlas (`wc -l`) y redirigir el resultado a un archivo llamado `/tmp/conteo_bash.txt`. 
|
``
$ grep /bin/bash /etc/passwd \| wc -l > /tmp/conteo_bash.txt
``
|**2. Verificaci贸n:** Muestra el contenido del archivo resultante.
|
``
$ cat /tmp/conteo_bash.txt
``
|===

=== Reactivo 12: B煤squeda Contextual con `grep`
*Objetivo:* Encontrar la l铆nea del usuario `root` en `/etc/shadow` y mostrar las l铆neas circundantes para tener contexto.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** Busca la cadena `root` en `/etc/shadow` y muestra una l铆nea de contexto *antes (`-B 1`)* y una l铆nea de contexto *despu茅s (`-A 1`)* del resultado.
|
``
$ sudo grep -B 1 -A 1 root /etc/shadow
``
|===

=== Reactivo 13: Sustituci贸n con `sed` (LFCS/RHCSA)
*Objetivo:* Usar `sed` para reemplazar una cadena de texto en un archivo y mostrar la salida, sin modificar el archivo original.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Configuraci贸n:** Crea un archivo de configuraci贸n de prueba.
|
``
$ echo 'ServerName localhost' > /tmp/webserver.conf
``
|**2. Tarea:** Reemplaza *todas las ocurrencias* de `localhost` por `produccion.local` en `/tmp/webserver.conf` y mu茅stralo en pantalla.
|
``
$ sed 's/localhost/produccion.local/g' /tmp/webserver.conf
``
|===

=== Reactivo 14: Enlaces Duros y Blandos
*Objetivo:* Crear y verificar enlaces duros y blandos, observando los n煤meros de inodo.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Configuraci贸n:** Crea un archivo de texto.
|
``
$ echo "Contenido original" > /tmp/inodo_original.txt
``
|**2. Tarea:** Crea un *enlace duro* (`enlace_duro.txt`) y un *enlace blando* (`enlace_blando.txt`) al archivo original.
|
``
$ ln /tmp/inodo_original.txt /tmp/enlace_duro.txt && ln -s /tmp/inodo_original.txt /tmp/enlace_blando.txt
``
|**3. Verificaci贸n:** Muestra los n煤meros de inodo (`-i`). El enlace duro debe compartir el inodo.
|
``
$ ls -i /tmp/inodo_original.txt /tmp/enlace_duro.txt /tmp/enlace_blando.txt
``
|===

== V. Ejercicios de Almacenamiento y Montaje

[NOTE]
====
Los ejercicios 15, 16 y 17 asumen la existencia de dispositivos de bloque adicionales como `/dev/sdb` y `/dev/sdb1`, lo cual requiere la configuraci贸n previa de la m谩quina virtual (a帽adir discos virtuales).
====

=== Reactivo 15: Identificaci贸n de Dispositivos
*Objetivo:* Usar `lsblk` para obtener una lista clara de los dispositivos de bloque y sus puntos de montaje.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** Muestra un listado de bloques *legible por humanos* y que incluya el tama帽o y el tipo.
|
``
$ lsblk -h
``
|**2. Tarea:** Muestra el uso del espacio de disco de los sistemas de archivos montados, en formato legible por humanos y mostrando el tipo de sistema de archivos.
|
``
$ df -hT
``
|===

=== Reactivo 16: Montaje Temporal
*Objetivo:* Montar una partici贸n existente (`/dev/sdb1`) en un directorio temporal.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** Crea el punto de montaje temporal `/mnt/tempdata`.
|
``
$ sudo mkdir /mnt/tempdata
``
|**2. Tarea:** Monta la partici贸n `/dev/sdb1` (asumiendo formato) en el punto de montaje.
|
``
$ sudo mount /dev/sdb1 /mnt/tempdata
``
|**3. Verificaci贸n:** Muestra el uso del disco del punto de montaje.
|
``
$ df -h /mnt/tempdata
``
|===

=== Reactivo 17: Montaje Persistente con `/etc/fstab`
*Objetivo:* Configurar una partici贸n para que se monte autom谩ticamente al iniciar.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Configuraci贸n:** Consigue el UUID de `/dev/sdb2`.
|
``
$ sudo blkid /dev/sdb2
``
|**2. Tarea:** Crea el punto de montaje `/data/archivos`.
|
``
$ sudo mkdir -p /data/archivos
``
|**3. Tarea:** A帽ade la entrada necesaria en `/etc/fstab` para que se monte como `xfs` en `/data/archivos`, con valores predeterminados y la opci贸n `nofail`.
|
``
# Ejemplo de entrada en /etc/fstab:

UUID=[UUID_AQUI] /data/archivos xfs defaults,nofail 0 0
``
|**4. Verificaci贸n (Sin reiniciar):** Prueba si la nueva entrada de `fstab` funciona.
|
``
$ sudo mount -a
``
|===

== VI. Ejercicios de LVM (nfasis RHCSA/LFCS)

[NOTE]
====
Estos ejercicios requieren al menos dos discos virtuales adicionales sin particionar (`/dev/sdb` y `/dev/sdc`) para simular la infraestructura de LVM.
====

=== Reactivo 18: Creaci贸n Completa de LVM
*Objetivo:* Crear un Volumen F铆sico (PV), un Grupo de Vol煤menes (VG) y un Volumen L贸gico (LV) de 10GB.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** Crea un PV en `/dev/sdb` y `/dev/sdc`.
|
``
$ sudo pvcreate /dev/sdb /dev/sdc
``
|**2. Tarea:** Crea un VG llamado `prod_vg` con ambos PV.
|
``
$ sudo vgcreate prod_vg /dev/sdb /dev/sdc
``
|**3. Tarea:** Crea un LV llamado `lv_data` de 10GB, format茅alo como `ext4` y m贸ntalo en `/datos_prod`.
|
``
$ sudo lvcreate -n lv_data -L 10G prod_vg
$ sudo mkfs.ext4 /dev/prod_vg/lv_data
$ sudo mkdir /datos_prod && sudo mount /dev/prod_vg/lv_data /datos_prod
``
|===

=== Reactivo 19: Ampliaci贸n de Volumen (Ext4)
*Objetivo:* Ampliar el LV anterior con 5GB adicionales y redimensionar el sistema de archivos `ext4`.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** Ampl铆a el Volumen L贸gico `lv_data` en 5GB.
|
``
$ sudo lvextend -L +5G /dev/prod_vg/lv_data
``
|**2. Tarea:** Redimensiona el sistema de archivos `ext4` para que ocupe el nuevo espacio del LV.
|
``
$ sudo resize2fs /dev/prod_vg/lv_data
``
|**3. Verificaci贸n:** Muestra el nuevo tama帽o del punto de montaje.
|
``
$ df -h /datos_prod
``
|===

=== Reactivo 20: Ampliaci贸n al Espacio Libre Total (XFS - RHCSA)
*Objetivo:* Ampliar el LV para usar todo el espacio libre restante en el VG y redimensionar el sistema de archivos `xfs`.

[cols="1,1", options="header"]
|===
|Instrucciones (Paso a paso) |Soluci贸n
|**1. Tarea:** Ampl铆a el LV `lv_data` para usar *el 100% del espacio libre restante* del `prod_vg`.
|
``
$ sudo lvextend -l +100%FREE /dev/prod_vg/lv_data
``
|**2. Tarea:** Redimensiona el sistema de archivos *XFS* para que reconozca el nuevo espacio (usando el punto de montaje `/datos_prod`).
|
``
$ sudo xfs_growfs /datos_prod
``
|**3. Verificaci贸n:** Muestra el nuevo tama帽o del punto de montaje.
|
``
$ df -h /datos_prod
``
|===

== Conclusi贸n y Pr贸ximos Pasos

Dominar estos 20 ejercicios te posiciona firmemente para enfrentar los laboratorios pr谩cticos de las certificaciones. Los temas de *ACLs*, *sudo* y *LVM* son especialmente cr铆ticos para **RHCSA** y **LFCS**.

[TIP]
====
La clave no es memorizar los comandos, sino entender *por qu茅* y *c贸mo* funcionan los flujos de datos y la gesti贸n del almacenamiento.
====

_驴Qu茅 ejercicio te result贸 m谩s desafiante? 隆D茅janos un comentario y comparte tu experiencia de pr谩ctica!_

// Enlace de la publicaci贸n original (para versiones fuera de GitHub)
// link:https://www.rootzilopochtli.com/modulo-experto-20-desafios-practicos[Publicaci贸n Original del Blog]

***

== Invitaci贸n a la Comunidad 

Este *post* forma parte de una serie dedicada a la arquitectura y administraci贸n de sistemas Linux. 隆Queremos construir el mejor recurso posible *con tu ayuda*!

Te invitamos a:

* *Clonar el Repositorio:* El c贸digo fuente de todos nuestros art铆culos est谩 disponible en *GitHub*.
* *Contribuir:* Si encuentras alg煤n error, tienes sugerencias para mejorar la claridad de los conceptos o deseas proponer correcciones t茅cnicas, no dudes en enviar un *Pull Request* (Solicitud de extracci贸n).
* *Comentar:* 驴Tienes una pregunta o un punto de vista diferente sobre alg煤n concepto? Abre un *Issue* (Incidencia) en el repositorio para iniciar la discusi贸n.

Tu colaboraci贸n es vital para mantener este contenido preciso y actualizado.

*隆Encuentra el repositorio y participa aqu铆:* link:https://github.com/rootzilopochtli/introduccion-a-linux[github.com/rootzilopochtli/introduccion-a-linux]