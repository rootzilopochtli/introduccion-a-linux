=  Introducci贸n al Shell Scripting para Administradores Linux
:author: Alex Callejas
:doctype: article
:revdate: Oct 23, 2025
:keywords: shell scripting, bash, linux, lpic-1, lfcs, rhcsa, automatizaci贸n, debugging

image::images/portada_18.png[Introducci贸n al Shell Scripting para Administradores Linux]

El *Shell Scripting* es una habilidad fundamental para cualquier administrador de sistemas Linux, ya sea que te prepares para *LPIC-1*, *LFCS* o *RHCSA*. Dominar los scripts de Bash te permite automatizar tareas repetitivas, gestionar configuraciones y simplificar tu trabajo diario. Es el puente entre el conocimiento de los comandos y la verdadera eficiencia operativa.

***

== La Estructura de un Script Simple

Todo script de Bash debe comenzar con una l铆nea especial conocida como *shebang*. Esta l铆nea le indica al sistema operativo qu茅 int茅rprete debe usar para ejecutar el archivo.

=== Shebang: `#!/bin/bash`

[source,bash]
----
#!/bin/bash
----

  * `#!` (hash-bang o shebang) es una combinaci贸n de caracteres que siempre debe estar al inicio de la primera l铆nea.
  * `/bin/bash` es la ruta al int茅rprete de Bash, el shell m谩s com煤n en distribuciones como Red Hat Enterprise Linux (RHEL/CentOS/Fedora) y Ubuntu/Debian.

Una vez que el sistema sabe c贸mo ejecutar el script, puedes incluir comandos de Bash y la l贸gica de programaci贸n.

***

== Variables, Entradas de Usuario y Control de Flujo

=== 1. Variables

Una *variable* es un contenedor que almacena un valor. En Bash, las variables se crean y se asignan de forma sencilla, sin necesidad de declarar un tipo:

  * *Asignaci贸n:* `NOMBRE_VARIABLE=valor` (隆sin espacios alrededor del `=`).
  * *Acceso:* Para usar el valor de la variable, la antecedemos con el s铆mbolo `$`: `$NOMBRE_VARIABLE`.

[source,bash]
----
#!/bin/bash
MI_USUARIO="sysadmin"
RUTA_LOG="/var/log/mi_app.log"
echo "El usuario de este script es: $MI_USUARIO"
echo "Revisando el log en: $RUTA_LOG"
----

=== 2. Entrada del Usuario (`read`)

Para hacer que los scripts sean interactivos, utilizamos el comando `read`, que toma la entrada del usuario y la almacena en una variable:

[source,bash]
----
#!/bin/bash
echo "Por favor, introduce tu nombre:"
read NOMBRE
echo "隆Hola, $NOMBRE! Bienvenido al scripting."
----

=== 3. Estructuras de Control (Introducci贸n)

Las *estructuras de control* permiten que un script tome decisiones (`if/else`) o repita tareas (`for`/`while`). Esto es lo que a帽ade la verdadera l贸gica a tus scripts.

==== Condicional `if` (Introducci贸n)

La estructura `if` eval煤a una condici贸n. Si es verdadera, ejecuta el bloque de comandos; si no, puede ejecutar un bloque alternativo (`else`).

[source,bash]
----
#!/bin/bash
read -p "Introduce un n煤mero: " NUMERO

if [ $NUMERO -gt 10 ]; then
    echo "El n煤mero es mayor que 10."
else
    echo "El n煤mero es 10 o menor."
fi
----

(Nota: `-gt` significa "greater than", mayor que. Las condiciones de prueba suelen ir entre `[ ]`.)

---

==  Plantilla de Scripting Est谩ndar

Para mantener la claridad y la estandarizaci贸n, se recomienda utilizar una plantilla bien estructurada. Esta plantilla ayuda a documentar el script y a organizar sus diferentes componentes.

[source,bash]
----
#!/bin/bash
#
# IDENTIFICACION
# Script: gestion_usuarios.sh
# Autor: Tu Nombre
# Fecha: 2025-10-23
# Descripcion: Script para crear o modificar usuarios en el sistema.

# VARIABLES
LOG_FILE="/tmp/script_ejecucion.log"
FECHA=$(date +%Y%m%d_%H%M%S)

# COMANDOS
echo "Inicio de la ejecuci贸n: $FECHA" >> $LOG_FILE
# Aqu铆 van los comandos, funciones y l贸gica del script.
----

---

==  Debugging con `set -x`

Una herramienta esencial para depurar (debugging) scripts de Bash es la opci贸n `set -x`.

Al incluir *`set -x`* en tu script, el shell de Bash entrar谩 en *modo de rastreo (trace mode)*. Esto significa que antes de ejecutar cada comando, el shell lo imprimir谩 en la salida est谩ndar (stderr), despu茅s de haber realizado todas las sustituciones (variables, comandos, etc.).

*Uso pr谩ctico:*

  * Coloca `set -x` justo antes de la secci贸n de tu script que quieres depurar.
  * Coloca `set +x` despu茅s de esa secci贸n para desactivar el rastreo y volver a la ejecuci贸n normal.

Esto es incre铆blemente 煤til para ver qu茅 valores tienen las variables en tiempo de ejecuci贸n o c贸mo se expanden los comandos.

---

== Ejemplo Pr谩ctico Usando la Plantilla

Este script pide un nombre de usuario y un directorio para crear, e incluye la opci贸n de depuraci贸n para mostrar el flujo:

[source,bash]
----
#!/bin/bash
#
# IDENTIFICACION
# Script: crear_directorio.sh
# Autor: Admin Linux
# Fecha: 2025-10-23
# Descripcion: Pide un nombre de usuario y crea un directorio en /tmp.

# VARIABLES
FECHA_ACTUAL=$(date +%F) # Formato YYYY-MM-DD
DIRECTORIO_BASE="/tmp"

# COMANDOS

# Activar modo de rastreo para ver las sustituciones de variables
set -x

# 1. Petici贸n de entrada de usuario
read -p "Introduce un nombre de usuario para el directorio: " NOMBRE_USUARIO

# 2. Creaci贸n del nombre completo del directorio
NOMBRE_DIR="${DIRECTORIO_BASE}/${NOMBRE_USUARIO}_${FECHA_ACTUAL}"

# 3. Estructura de control simple
if [ -d "$NOMBRE_DIR" ]; then
    echo "El directorio $NOMBRE_DIR ya existe."
else
    mkdir "$NOMBRE_DIR"
    echo "Directorio $NOMBRE_DIR creado con 茅xito."
fi

# Desactivar modo de rastreo
set +x

echo "Proceso finalizado."
----

Este video proporciona una visi贸n general y ejemplos pr谩cticos de c贸mo empezar a escribir scripts de Bash: link:https://www.google.com/search?q=https://www.youtube.com/watch%3Fv%3DkYJ0hHjP1d0[Getting Started With Shell Scripting - Basics].

// Enlace de la publicaci贸n original (para versiones fuera de GitHub)
// link:https://www.rootzilopochtli.com/introduccion-al-shell-scripting [Publicaci贸n Original del Blog]

***

== Invitaci贸n a la Comunidad 

Este *post* forma parte de una serie dedicada a la arquitectura y administraci贸n de sistemas Linux. 隆Queremos construir el mejor recurso posible *con tu ayuda*!

Te invitamos a:

* *Clonar el Repositorio:* El c贸digo fuente de todos nuestros art铆culos est谩 disponible en *GitHub*.
* *Contribuir:* Si encuentras alg煤n error, tienes sugerencias para mejorar la claridad de los conceptos o deseas proponer correcciones t茅cnicas, no dudes en enviar un *Pull Request* (Solicitud de extracci贸n).
* *Comentar:* 驴Tienes una pregunta o un punto de vista diferente sobre alg煤n concepto? Abre un *Issue* (Incidencia) en el repositorio para iniciar la discusi贸n.

Tu colaboraci贸n es vital para mantener este contenido preciso y actualizado.

*隆Encuentra el repositorio y participa aqu铆:* link:https://github.com/rootzilopochtli/introduccion-a-linux[github.com/rootzilopochtli/introduccion-a-linux]