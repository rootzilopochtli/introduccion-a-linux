= Administraci√≥n de Almacenamiento en Linux: Dispositivos, Particiones y Formateo üíæ
:author: Alex Callejas
:doctype: article
:revdate: Oct 14, 2025
:keywords: storage, lsblk, particiones, formateo, gdisk, parted, fdisk, df, du

image::images/portada_11.png[Administraci√≥n de Almacenamiento en Linux: Dispositivos, Particiones y Formateo üíæ]

La gesti√≥n eficaz del almacenamiento es una habilidad fundamental para cualquier administrador de sistemas Linux. Las certificaciones como *LPIC-1*, *LFCS* y *RHCSA* ponen un gran √©nfasis en la capacidad de identificar dispositivos, crear particiones y aplicar el sistema de archivos adecuado. Este post cubre los comandos esenciales y las consideraciones clave en este proceso.

== Identificaci√≥n de Dispositivos de Bloque

Antes de cualquier manipulaci√≥n, es crucial identificar correctamente los dispositivos de almacenamiento. En Linux, estos se representan t√≠picamente como archivos en el directorio `/dev`, como `/dev/sda`, `/dev/sdb`, y sus particiones numeradas (ej. `/dev/sda1`).

[cols="1,2,2,3", options="header"]
|===
| Comando
| Prop√≥sito Principal
| Tabla de Particiones
| Nota Clave

| `lsblk`
| Muestra los dispositivos de bloque en formato de √°rbol.
| Ambas (MBR/GPT)
| *Lectura* (solo muestra informaci√≥n, no modifica). Excelente para una visi√≥n r√°pida y limpia.

| `fdisk`
| Editor de particiones interactivo.
| *MBR* (principalmente)
| Herramienta cl√°sica para MBR. Se usa con la opci√≥n `-l` para listar: `fdisk -l`.

| `gdisk`
| Editor de particiones interactivo.
| *GPT*
| La herramienta moderna para el est√°ndar GPT (GUID Partition Table).

| `parted`
| Manipulador de tablas de particiones y particiones.
| Ambas (MBR/GPT)
| No interactivo por defecto, muy potente, soporta redimensionamiento de particiones y GPT.
|===

*Ejemplo de listado con `lsblk`:*

[source,bash]
----
$ lsblk
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      8:0    0  200G  0 disk
‚îú‚îÄsda1   8:1    0    1G  0 part /boot
‚îî‚îÄsda2   8:2    0  199G  0 part
  ‚îú‚îÄvg00-lv_root 253:0    0   50G  0 lvm  /
  ‚îî‚îÄvg00-lv_home 253:1    0  149G  0 lvm  /home
sdb      8:16   0    5G  0 disk
----

El comando `lsblk` muestra claramente la jerarqu√≠a, indicando discos (`disk`), particiones (`part`) y vol√∫menes l√≥gicos LVM (`lvm`).

== Creaci√≥n de Particiones

La creaci√≥n de particiones implica definir un espacio contiguo en el disco que se preparar√° para contener un sistema de archivos. El proceso general utiliza `fdisk` (para MBR) o `gdisk`/`parted` (para GPT o MBR).

=== Creaci√≥n con `gdisk` (Recomendado para GPT)

GPT es el est√°ndar moderno, superando las limitaciones de MBR (como el l√≠mite de 4 particiones primarias y el tama√±o de disco de 2TB).

. *Iniciar `gdisk`*:
+
[source,bash]
----
# gdisk /dev/sdb
----

. *Comandos dentro de `gdisk`*:
  * *`p`*: Imprime la tabla de particiones actual.
  * *`n`*: Crea una nueva partici√≥n (new).
  * *`t`*: Cambia el tipo de partici√≥n (type, c√≥digo *`8300`* para Linux filesystem).
  * *`w`*: Escribe los cambios al disco y sale (write). **¬°Peligroso, no usar en discos productivos sin copia de seguridad!**

=== Creaci√≥n con `parted` (Flexible para MBR/GPT)

Con `parted` se pueden crear tablas y particiones usando comandos no interactivos, ideal para scripts.

. *Crear tabla GPT (si es un disco nuevo)*:
+
[source,bash]
----
# parted /dev/sdb mklabel gpt
----

. *Crear una partici√≥n primaria (ej. de 1GB a 10GB)*:
+
[source,bash]
----
# parted /dev/sdb unit GiB mkpart primary 1 10
----

== Formateo y Sistemas de Archivos Comunes

Una vez creada la partici√≥n (ej. `/dev/sdb1`), esta debe ser *formateada* para crear un *Sistema de Archivos (FS)*, que organiza y gestiona los datos. El comando universal para formatear es *`mkfs`*, con variantes espec√≠ficas para cada tipo de FS.

=== ext4 (Fourth Extended Filesystem)

*ext4* es el sistema de archivos por defecto m√°s com√∫n en muchas distribuciones Linux. Es una evoluci√≥n robusta y probada de ext3, con soporte para *journaling* (registro por diario) y archivos de hasta 16TB.

*Comando de Formateo:*

[source,bash]
----
# mkfs -t ext4 /dev/sdb1
# O su forma abreviada:
# mkfs.ext4 /dev/sdb1
----

=== XFS (Extended File System)

*XFS* es el sistema de archivos por defecto en Red Hat Enterprise Linux (RHEL) y sus derivados (como CentOS y Fedora). Est√° optimizado para escalabilidad, grandes vol√∫menes de datos y alto rendimiento en operaciones paralelas.

*Comando de Formateo:*

[source,bash]
----
# mkfs -t xfs /dev/sdb1
# O su forma abreviada:
# mkfs.xfs /dev/sdb1
----

_Tenga en cuenta: A diferencia de ext4, XFS es m√°s dif√≠cil de reducir (achicar) una vez creado. Es mejor usar *XFS* para particiones de datos grandes, y *ext4* para el sistema ra√≠z (`/`) o vol√∫menes m√°s peque√±os si no est√° en un entorno RHEL._

== Resumen del Flujo de Trabajo

La administraci√≥n de almacenamiento sigue un patr√≥n l√≥gico de tres pasos:

. *Identificar el Disco* (`lsblk`, `fdisk -l`).
. *Particionar el Disco* (`fdisk`, `gdisk`, `parted`).
. *Formatear la Partici√≥n* (`mkfs.ext4`, `mkfs.xfs`).
. (Opcional, pero esencial) *Montar el Sistema de Archivos* (`mount`) y hacerlo persistente con `/etc/fstab`.

Dominar estas herramientas y flujos de trabajo es clave para superar los desaf√≠os de las certificaciones t√©cnicas y gestionar entornos de producci√≥n en Linux.

Aprende a particionar tu disco duro para Linux con esta link:https://www.youtube.com/watch?v=5jv5Mq9SFmc[Gu√≠a de instalaci√≥n en 5 pasos].

== ‚ö†Ô∏è Importante: La Diferencia entre Megabyte (MB) y Mebibyte (MiB)

image::images/MB_vs_MiB.png[La Diferencia entre Megabyte (MB) y Mebibyte (MiB)]

Para los administradores de sistemas, especialmente los novatos, la distinci√≥n entre Megabyte (MB) y Mebibyte (MiB) puede ser una fuente de confusi√≥n significativa al trabajar con almacenamiento y memoria. Aunque a menudo se usan indistintamente en el lenguaje coloquial, representan cantidades ligeramente diferentes.

=== Megabyte (MB) - Basado en Potencias de 10

El *Megabyte (MB)* utiliza el sistema decimal (base 10).

* 1 Kilobyte (KB) = 10^3 bytes = 1,000 bytes
* 1 Megabyte (MB) = 10^6 bytes = 1,000,000 bytes
* 1 Gigabyte (GB) = 10^9 bytes = 1,000,000,000 bytes

Este es el est√°ndar que los fabricantes de discos duros suelen utilizar para anunciar la capacidad de sus productos.

=== Mebibyte (MiB) - Basado en Potencias de 2

El *Mebibyte (MiB)* utiliza el sistema binario (base 2), que es el preferido en inform√°tica para representar la memoria y el almacenamiento a nivel de software. Los prefijos "kibi", "mebi", "gibi", etc., fueron introducidos por la Comisi√≥n Electrot√©cnica Internacional (IEC) para evitar esta ambig√ºedad.

* 1 Kibibyte (KiB) = 2^10 bytes = 1,024 bytes
* 1 Mebibyte (MiB) = 2^20 bytes = 1,024 x 1,024 bytes = 1,048,576 bytes
* 1 Gibibyte (GiB) = 2^30 bytes = 1,024 x 1,024 x 1,024 bytes = 1,073,741,824 bytes

=== ¬øPor qu√© es importante esta diferencia?

La diferencia entre estos dos sistemas es la raz√≥n por la que un disco duro de "1 Terabyte (TB)" (1,000,000,000,000 bytes) puede aparecer en tu sistema operativo como aproximadamente "931 GiB". El sistema operativo (y herramientas como `fdisk`, `lsblk` y `df`) suelen reportar el espacio en unidades binarias (GiB), mientras que los fabricantes usan unidades decimales (GB).

**C√°lculo de ejemplo:**

* Un disco de 1 TB (decimal) = 1,000,000,000,000 bytes.
* En GiB, esto ser√≠a: 1,000,000,000,000 bytes / (1024^3) ‚âà 931.32 GiB.

Comprender esta distinci√≥n es crucial para:

* **Evitar confusiones** sobre el espacio real disponible en un disco.
* **Calcular requisitos de almacenamiento** de manera precisa.
* **Interpretar correctamente la salida** de herramientas de Linux que reportan el tama√±o de las particiones y el uso del disco en MiB, GiB, etc.

image::images/infografia_calculo.png[La Diferencia entre Megabyte (MB) y Mebibyte (MiB)]

Siempre que sea posible, es una buena pr√°ctica utilizar los prefijos binarios (KiB, MiB, GiB) al referirse a la capacidad de almacenamiento y memoria en entornos t√©cnicos para eliminar la ambig√ºedad.

// Enlace de la publicaci√≥n original (para versiones fuera de GitHub)
// link:https://www.rootzilopochtli.com/administracion-de-almacenamiento [Publicaci√≥n Original del Blog]

***

== Invitaci√≥n a la Comunidad üöÄ

Este *post* forma parte de una serie dedicada a la arquitectura y administraci√≥n de sistemas Linux. ¬°Queremos construir el mejor recurso posible *con tu ayuda*!

Te invitamos a:

* *Clonar el Repositorio:* El c√≥digo fuente de todos nuestros art√≠culos est√° disponible en *GitHub*.
* *Contribuir:* Si encuentras alg√∫n error, tienes sugerencias para mejorar la claridad de los conceptos o deseas proponer correcciones t√©cnicas, no dudes en enviar un *Pull Request* (Solicitud de extracci√≥n).
* *Comentar:* ¬øTienes una pregunta o un punto de vista diferente sobre alg√∫n concepto? Abre un *Issue* (Incidencia) en el repositorio para iniciar la discusi√≥n.

Tu colaboraci√≥n es vital para mantener este contenido preciso y actualizado.

*¬°Encuentra el repositorio y participa aqu√≠:* link:https://github.com/rootzilopochtli/introduccion-a-linux[github.com/rootzilopochtli/introduccion-a-linux]